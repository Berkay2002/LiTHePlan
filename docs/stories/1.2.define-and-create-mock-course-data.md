# Story 1.2: Define and Create Mock Course Data

## Status
Done

## Story
**As a** developer,
**I want** to define a `Course` interface in TypeScript and create a `mock-courses.json` file,
**so that** we have a stable, predictable data source for development.

## Acceptance Criteria
1. A `types/course.ts` file is created with a `Course` interface containing all known fields (code, name, hp, level, term, block, etc.).
2. A `data/mock-courses.json` file is created with 15-20 sample course objects that conform to the `Course` interface.

## Tasks / Subtasks
- [x] Task 1: Create Course TypeScript Interface (AC: 1)
  - [x] Create `types/course.ts` file with Course interface
  - [x] Define all required fields based on architecture specifications
  - [x] Ensure proper TypeScript typing with strict mode compliance
  - [x] Export the interface for use in other components
- [x] Task 2: Create Mock Course Data (AC: 2)
  - [x] Create `data/mock-courses.json` file
  - [x] Generate 15-20 realistic course objects
  - [x] Ensure all objects conform to the Course interface
  - [x] Include diverse course examples with different levels, terms, and campuses
- [x] Task 3: Validate Data Structure (AC: 1, 2)
  - [x] Verify TypeScript compilation with the new interface
  - [x] Test importing mock data in a simple component
  - [x] Ensure JSON file is properly formatted and valid

## Dev Notes

### Previous Story Insights
- Next.js 15.4.4 project successfully initialized with TypeScript 5+ and strict mode enabled
- Project structure perfectly matches architecture specifications with all required directories created
- Tailwind CSS v4 and shadcn/ui properly configured
- Build and lint validation successful

### Data Models
Based on architecture documentation, the Course interface must include the following fields:

```typescript
// types/course.ts
export interface Course {
  id: string; // Unique identifier, e.g., course code 'TQXX33'
  name: string;
  credits: number; // e.g., 30
  level: 'grundnivå' | 'avancerad nivå';
  term: 7 | 8 | 9;
  period: 1 | 2;
  block: 1 | 2 | 3 | 4;
  pace: '100%' | '50%';
  examination: string[]; // e.g., ['TEN', 'LAB']
  campus: 'Linköping' | 'Norrköping' | 'Distans';
}
```

[Source: docs/architecture/data-models.md]

### File Locations
- Course interface: `types/course.ts` [Source: docs/architecture/unified-project-structure-corrected.md]
- Mock data file: `data/mock-courses.json` [Source: docs/architecture/unified-project-structure-corrected.md]

### Technical Constraints
- All new code must be strongly typed using TypeScript [Source: docs/architecture/coding-standards.md]
- TypeScript strict mode is enabled in the project [Source: Story 1.1 completion notes]
- No testing framework required (skipped for rapid development) [Source: docs/architecture/testing-strategy.md]
- Focus on manual testing and validation during development [Source: docs/architecture/testing-strategy.md]

### Data Requirements
- Course objects must include realistic Swedish university course data
- Include a mix of different course levels (grundnivå, avancerad nivå)
- Include various terms (7, 8, 9) and periods (1, 2)
- Include different campuses (Linköping, Norrköping, Distans)
- Include different examination types (TEN, LAB, etc.)
- Include different paces (100%, 50%)

### Project Structure Alignment
The file locations specified in the architecture documents align perfectly with the current project structure created in Story 1.1:
- `types/` directory exists and is ready for the Course interface
- `data/` directory exists and is ready for the mock data file

## Testing
**Testing Standards:**
- Testing is skipped for rapid development [Source: docs/architecture/testing-strategy.md]
- Focus on manual testing and validation during development [Source: docs/architecture/testing-strategy.md]
- Validate TypeScript compilation and data structure manually

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-07-29 | 1.0 | Initial story creation | Bob (Scrum Master) |
| 2025-01-27 | 1.1 | Story implementation completed | James (Dev Agent) |

## Dev Agent Record

### Agent Model Used
Claude Sonnet 4 (Cursor AI Assistant)

### Debug Log References
- TypeScript compilation validation: `npx tsc --noEmit` - PASSED
- JSON validation: `node -e "console.log('JSON validation:', JSON.parse(require('fs').readFileSync('data/mock-courses.json', 'utf8')).length, 'courses loaded successfully')"` - PASSED (18 courses)
- Component import test: `components/test-course-import.tsx` - PASSED

### Completion Notes List
- Successfully created Course TypeScript interface with all required fields from architecture specifications
- Generated 18 realistic Swedish university course objects in mock-courses.json
- All course objects conform to the Course interface with proper typing
- Included diverse examples across all required categories: levels, terms, periods, blocks, paces, examination types, and campuses
- Validated data structure through TypeScript compilation and component import testing
- Created test component to verify interface and data integration

### File List
**Created:**
- `types/course.ts` - Course TypeScript interface
- `data/mock-courses.json` - Mock course data (18 courses)
- `components/test-course-import.tsx` - Test component for validation

**Modified:**
- `docs/stories/1.2.define-and-create-mock-course-data.md` - Updated task checkboxes and Dev Agent Record

## QA Results

### Review Date: 2025-01-27

### Reviewed By: Quinn (Senior Developer QA)

### Code Quality Assessment

**Excellent implementation with room for improvement.** The developer successfully created a well-structured Course interface and comprehensive mock data. The implementation follows TypeScript best practices and meets all acceptance criteria. However, I identified several opportunities for enhancement that I've addressed through active refactoring.

### Refactoring Performed

- **File**: `types/course.ts`
  - **Change**: Added comprehensive JSDoc documentation and exported type guard function
  - **Why**: Improves code maintainability and provides runtime validation capabilities
  - **How**: Makes the interface self-documenting and provides reusable validation logic

- **File**: `components/test-course-import.tsx`
  - **Change**: Replaced type assertion with proper type guard validation and enhanced UI
  - **Why**: Type assertions are unsafe and don't provide runtime validation
  - **How**: Uses the exported type guard for safe validation and provides better user feedback

### Compliance Check

- Coding Standards: ✓ All code follows TypeScript strict mode and project standards
- Project Structure: ✓ All files are properly located according to architecture specifications
- Testing Strategy: ✓ Manual validation approach aligns with rapid development strategy
- All ACs Met: ✓ Both acceptance criteria fully implemented and validated

### Improvements Checklist

- [x] Enhanced Course interface with comprehensive JSDoc documentation
- [x] Added exported type guard function for runtime validation
- [x] Replaced unsafe type assertion with proper type guard validation
- [x] Improved test component UI with better validation feedback
- [x] Added error handling for invalid course data
- [x] Enhanced code maintainability and reusability

### Security Review

**No security concerns identified.** This story deals with static data structures and mock data creation. The type guard validation provides additional safety against malformed data.

### Performance Considerations

**No performance issues identified.** The implementation is efficient with:
- Static JSON data loading
- Type guard validation only runs when needed
- No unnecessary computations or memory allocations

### Final Status

**✓ Approved - Ready for Done**

The story implementation is now production-ready with enhanced code quality, better documentation, and improved validation. All acceptance criteria are met, and the refactoring improvements make the code more maintainable and robust for future development. 